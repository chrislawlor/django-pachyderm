[tox]
envlist =
    py2.7-django1.4,
    py2.7-django1.3

[testenv]
setenv =
    PYTHONPATH = {toxinidir}/src:{toxinidir}/tests
    DJANGO_SETTINGS_MODULE = test_project.settings
commands =
    coverage erase
    coverage run --branch {envbindir}/django-admin.py test test_app
    coverage report -m --include "{toxinidir}/src/*"
    coverage html -d {envdir}/html_report

[testenv:py2.7-django1.4]
basepython = python2.7
deps =
    coverage
    django>=1.4,<1.5
    psycopg2    

[testenv:py2.7-django1.3]
basepython = python2.7
deps =
    coverage
    django>=1.3,<1.4
    psycopg2==2.4.1

